<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commit Summary - 2025-07-15 01:39:54</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .status-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #28a745;
        }
        
        .status-item.push-success {
            border-left-color: #28a745;
        }
        
        .status-item h3 {
            color: #495057;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-item p {
            font-size: 16px;
            font-weight: 500;
            color: #212529;
        }
        
        .status-item a {
            color: #007bff;
            text-decoration: none;
            font-weight: 500;
        }
        
        .status-item a:hover {
            text-decoration: underline;
        }
        
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }
        
        .tag {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .commit-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .commit-header {
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 20px;
            margin-bottom: 25px;
        }
        
        .commit-title {
            font-size: 24px;
            font-weight: 700;
            color: #212529;
            margin-bottom: 10px;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .commit-title:hover {
            color: #007bff;
        }
        
        .commit-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .meta-item {
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
        }
        
        .meta-label {
            font-size: 12px;
            font-weight: 600;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .meta-value {
            font-size: 14px;
            font-weight: 500;
            color: #212529;
            font-family: 'SF Mono', Monaco, monospace;
        }
        
        .commit-hash {
            background: #e9ecef;
            padding: 4px 8px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 12px;
            cursor: pointer;
            user-select: all;
        }
        
        .commit-body {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid #007bff;
        }
        
        .commit-body h2 {
            color: #495057;
            font-size: 18px;
            margin-bottom: 15px;
        }
        
        .commit-body ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .commit-body li {
            margin-bottom: 8px;
        }
        
        .commit-body strong {
            color: #212529;
        }
        
        .diff-section {
            margin-top: 25px;
        }
        
        .diff-file {
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
            border: 1px solid #e9ecef;
        }
        
        .diff-file-header {
            background: #e9ecef;
            padding: 12px 20px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 14px;
            font-weight: 600;
            color: #495057;
        }
        
        .diff-content {
            padding: 0;
        }
        
        .diff-hunk {
            margin: 0;
        }
        
        .diff-line {
            padding: 2px 20px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 13px;
            line-height: 1.4;
            white-space: pre-wrap;
            border: none;
        }
        
        .diff-line.context {
            background: #fff;
            color: #495057;
        }
        
        .diff-line.addition {
            background: #d4edda;
            color: #155724;
        }
        
        .diff-line.deletion {
            background: #f8d7da;
            color: #721c24;
        }
        
        .diff-line.hunk-header {
            background: #e2e3e5;
            color: #495057;
            font-weight: 600;
        }
        
        .overview {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .overview h2 {
            color: #212529;
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        .overview-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: 700;
            color: #007bff;
            display: block;
        }
        
        .stat-label {
            font-size: 14px;
            color: #6c757d;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
            
            .commit-meta {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with Status Information -->
        <div class="header">
            <h1 style="color: #212529; margin-bottom: 25px; font-size: 28px;">🚀 Commit Summary</h1>
            
            <div class="status-grid">
                <div class="status-item push-success">
                    <h3>Operation Status</h3>
                    <p>✅ Success</p>
                </div>
                
                <div class="status-item push-success">
                    <h3>Push Status</h3>
                    <p>✅ Pushed to Remote</p>
                </div>
                
                <div class="status-item">
                    <h3>Git Branch</h3>
                    <p>main</p>
                </div>
                
                <div class="status-item">
                    <h3>Remote Repository</h3>
                    <p><a href="https://github.com/sugiura-hiromiti/commit_summery" target="_blank">sugiura-hiromiti/commit_summery</a></p>
                </div>
            </div>
            
            <div class="tags">
                <span class="tag">fix</span>
                <span class="tag">github-pages</span>
                <span class="tag">compatibility</span>
                <span class="tag">url-handling</span>
                <span class="tag">commit_summery</span>
            </div>
        </div>
        
        <!-- Commit Details -->
        <div class="commit-section">
            <div class="commit-header">
                <h2 class="commit-title" onclick="window.open('https://github.com/sugiura-hiromiti/commit_summery/commit/4e3afb6e80bbe869b085025b7d7a08d7d13abca6', '_blank')">
                    fix: improve GitHub Pages compatibility and URL handling
                </h2>
                
                <div class="commit-meta">
                    <div class="meta-item">
                        <div class="meta-label">Commit Hash</div>
                        <div class="meta-value">
                            <span class="commit-hash" onclick="navigator.clipboard.writeText('4e3afb6')" title="Click to copy">4e3afb6</span>
                        </div>
                    </div>
                    
                    <div class="meta-item">
                        <div class="meta-label">Author</div>
                        <div class="meta-value">sugiura-hiromiti &lt;sugiura130418@icloud.com&gt;</div>
                    </div>
                    
                    <div class="meta-item">
                        <div class="meta-label">Files Changed</div>
                        <div class="meta-value">1 file</div>
                    </div>
                    
                    <div class="meta-item">
                        <div class="meta-label">Changes</div>
                        <div class="meta-value">+50 -51 lines</div>
                    </div>
                </div>
            </div>
            
            <!-- Commit Body -->
            <div class="commit-body">
                <h2>Changes Made</h2>
                <ul>
                    <li><strong>Dynamic base URL detection</strong>: Replace hardcoded base URL with dynamic detection using window.location</li>
                    <li><strong>Relative path handling</strong>: Use relative paths for GitHub Pages compatibility instead of absolute URLs</li>
                    <li><strong>Enhanced error handling</strong>: Add fallback for clipboard operations when sharing fails</li>
                    <li><strong>Updated commit data</strong>: Add recent commit summaries and reorganize chronologically</li>
                    <li><strong>Improved debugging</strong>: Add console logging for URL generation verification</li>
                </ul>
                
                <h2>Technical Details</h2>
                <ul>
                    <li>Fixes URL generation issues on GitHub Pages deployment</li>
                    <li>Ensures proper iframe loading with relative paths</li>
                    <li>Maintains backward compatibility with existing functionality</li>
                    <li>Improves user experience with better error handling</li>
                </ul>
                
                <h2>Impact</h2>
                <ul>
                    <li>Resolves deployment issues on GitHub Pages</li>
                    <li>Improves reliability of commit summary loading</li>
                    <li>Better user experience when sharing commit summaries</li>
                </ul>
            </div>
            
            <!-- Diff Section -->
            <div class="diff-section">
                <h3 style="margin-bottom: 20px; color: #495057;">📝 File Changes</h3>
                
                <div class="diff-file">
                    <div class="diff-file-header">
                        📄 index.html
                    </div>
                    <div class="diff-content">
                        <div class="diff-hunk">
                            <div class="diff-line hunk-header">@@ -958,7 +958,8 @@</div>
                            <div class="diff-line context">                 this.searchTerm = '';</div>
                            <div class="diff-line context">                 this.activeFilters = new Set(['all']);</div>
                            <div class="diff-line context">                 this.isDarkMode = localStorage.getItem('darkMode') !== 'false';</div>
                            <div class="diff-line deletion">-                this.baseUrl = 'https://sugiura-hiromiti.github.io/commit_summery';</div>
                            <div class="diff-line addition">+                // Use relative paths for GitHub Pages compatibility</div>
                            <div class="diff-line addition">+                this.baseUrl = window.location.origin + window.location.pathname.replace('/index.html', '').replace(/\/$/, '');</div>
                            <div class="diff-line context">                 </div>
                            <div class="diff-line context">                 this.init();</div>
                            <div class="diff-line context">             }</div>
                        </div>
                        
                        <div class="diff-hunk">
                            <div class="diff-line hunk-header">@@ -1061,8 +1062,16 @@</div>
                            <div class="diff-line context"> </div>
                            <div class="diff-line context">             async loadCommitSummaries() {</div>
                            <div class="diff-line context">                 try {</div>
                            <div class="diff-line deletion">-                    // Simplified data loading - no async file checking needed for GitHub Pages</div>
                            <div class="diff-line addition">+                    // Real commit summary files based on actual repository structure</div>
                            <div class="diff-line context">                     const summaryData = [</div>
                            <div class="diff-line addition">+                        {</div>
                            <div class="diff-line addition">+                            path: '.config/2025/07/15/2025-07-15_00-49-12.html',</div>
                            <div class="diff-line addition">+                            repository: '.config',</div>
                            <div class="diff-line addition">+                            title: 'feat: add new configuration updates',</div>
                            <div class="diff-line addition">+                            date: new Date('2025-07-15T00:49:12'),</div>
                            <div class="diff-line addition">+                            type: 'feat',</div>
                            <div class="diff-line addition">+                            tags: ['config', 'update', 'automation']</div>
                            <div class="diff-line addition">+                        },</div>
                            <div class="diff-line context">                         {</div>
                            <div class="diff-line context">                             path: '.config/2025/07/14/2025-07-14_21-28-43.html',</div>
                            <div class="diff-line context">                             repository: '.config',</div>
                        </div>
                        
                        <div class="diff-hunk">
                            <div class="diff-line hunk-header">@@ -1164,6 +1158,7 @@</div>
                            <div class="diff-line context">                     })).sort((a, b) => b.date - a.date);</div>
                            <div class="diff-line context"> </div>
                            <div class="diff-line context">                     console.log('Loaded summaries:', this.allSummaries.length);</div>
                            <div class="diff-line addition">+                    console.log('Sample URL:', this.allSummaries[0]?.fullUrl);</div>
                            <div class="diff-line context"> </div>
                            <div class="diff-line context">                 } catch (error) {</div>
                            <div class="diff-line context">                     console.error('Error loading commit summaries:', error);</div>
                        </div>
                        
                        <div class="diff-hunk">
                            <div class="diff-line hunk-header">@@ -1581,7 +1576,8 @@</div>
                            <div class="diff-line context">             shareCurrentSummary() {</div>
                            <div class="diff-line context">                 if (!this.currentSummary) return;</div>
                            <div class="diff-line context">                 </div>
                            <div class="diff-line deletion">-                const shareUrl = this.currentSummary.fullUrl;</div>
                            <div class="diff-line addition">+                // Create the full GitHub Pages URL for sharing</div>
                            <div class="diff-line addition">+                const shareUrl = `${window.location.origin}${window.location.pathname.replace('/index.html', '')}/${this.currentSummary.path}`;</div>
                            <div class="diff-line context">                 </div>
                            <div class="diff-line context">                 if (navigator.share) {</div>
                            <div class="diff-line context">                     navigator.share({</div>
                        </div>
                        
                        <div class="diff-hunk">
                            <div class="diff-line hunk-header">@@ -1592,6 +1588,9 @@</div>
                            <div class="diff-line context">                 } else {</div>
                            <div class="diff-line context">                     navigator.clipboard.writeText(shareUrl).then(() => {</div>
                            <div class="diff-line context">                         alert('Share link copied to clipboard!');</div>
                            <div class="diff-line addition">+                    }).catch(() => {</div>
                            <div class="diff-line addition">+                        // Fallback: show the URL in a prompt</div>
                            <div class="diff-line addition">+                        prompt('Copy this link:', shareUrl);</div>
                            <div class="diff-line context">                     });</div>
                            <div class="diff-line context">                 }</div>
                            <div class="diff-line context">             }</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Overview -->
        <div class="overview">
            <h2>📊 Overview</h2>
            <div class="overview-stats">
                <div class="stat-item">
                    <span class="stat-number">1</span>
                    <span class="stat-label">Commits</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">1</span>
                    <span class="stat-label">Files Changed</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">50</span>
                    <span class="stat-label">Insertions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">51</span>
                    <span class="stat-label">Deletions</span>
                </div>
            </div>
            
            <div style="margin-top: 25px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <h3 style="color: #495057; margin-bottom: 15px;">Summary</h3>
                <p style="color: #6c757d; line-height: 1.6;">
                    This commit focuses on improving GitHub Pages compatibility by implementing dynamic URL handling and relative path resolution. 
                    The changes ensure that the commit summary dashboard works correctly when deployed on GitHub Pages, 
                    with enhanced error handling and better user experience for sharing functionality.
                </p>
            </div>
        </div>
    </div>
    
    <script>
        // Add click-to-copy functionality for commit hashes
        document.querySelectorAll('.commit-hash').forEach(hash => {
            hash.addEventListener('click', () => {
                navigator.clipboard.writeText(hash.textContent).then(() => {
                    const originalText = hash.textContent;
                    hash.textContent = 'Copied!';
                    hash.style.background = '#28a745';
                    hash.style.color = 'white';
                    setTimeout(() => {
                        hash.textContent = originalText;
                        hash.style.background = '#e9ecef';
                        hash.style.color = '#212529';
                    }, 1000);
                });
            });
        });
    </script>
</body>
</html>
